{% extends "layout.html" %}

{% block content %}
<link rel="stylesheet" href="../static/appointments.css">

<div class="wrapper container" style="display:flex">
    
<div class="cal">
  <div class="cal-header" style="display: flex; flex-direction: column; align-items: center; padding-top: 2em">
    <h3>Schedule an appointment with {{current_counselor.firstName}}</h3>
    <h5>Click on the date you want to schedule your appointment</h5>
  </div>
        <div class="calendar-wrapper">
                <button id="btnPrev" type="button">Prev</button>
                    <button id="btnNext" type="button">Next</button>
                <div id="divCal"></div>
              </div>
            </div>
              {% include "modal.html"%}

              <div id="appointments-table" style="width:450px; padding-top: 9.3em;">
                  <button onclick=viewAppointments()>View your appointments</button>
      
                  <div id="your-appointments" style="display: block; width:450px;">
                    
                  {% for appointment in appointments_template %}
      
                  <div>
                  {{ appointment.date.strftime("%A") }},
                  {{ appointment.date.strftime("%x") }}
                  <br/>
                  Therapist: {{ appointment.counselor.firstName}}
                  <br/> 
                  {{ appointment.time }}
                </div>
                <form action="" method="POST">
                    <input name="appointment_id" type="hidden" value="{{appointment.id}}">
                   
                    <input name="submit" type="submit" value="Cancel" class_="button" style="background: none; border-radius: 5px;">        
            </form>

           Edit Appointment:

            <form style="display: block" method="POST" action= "/appointments/{{current_counselor.id}}/edit"  class="form editform" id="{{appointment.id}}">
                {{form.id}}
                    {{ form.csrf_token }}
                    <input name="appointment_id" type="hidden" value="{{appointment.id}}">
                        {{ form.date.label }}
                        {{ form.date() }}
                        <br/>
                        {{ form.time.label }}
                        {{ form.time() }}
                        <br/>
                        <button type="submit" id="submit">Edit Appointment</button>
            </form>   
            <br/>
                  {% endfor %}
              </div>
             
           </div >

           <script src="../static/toggles.js"></script>
              
</div>

<script src="../static/appointments.js"></script>
{% endblock %}



